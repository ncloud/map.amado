/*
    Cornerstone Framework v2.0

    COPYRIGHT(C) 2012 BY SKTELECOM CO., LTD. ALL RIGHTS RESERVED.
    Released under the Apache License, Version 2.0
*/
!function(a,b){"function"==typeof define&&define.amd?define(["jquery","underscore","backbone","media"],b):a.Media=b(a.$,a._,a.Backbone)}(window,function(a,b,c){var d,e="featuredMedia";return a.fn[e]=function(b){var c={rate:"16:9",pauseOtherPlayers:!1};return this.each(function(){mejs.MediaElementPlayer.prototype.setPlayerSize=function(b,c){var d=this;if("undefined"!=typeof d.$node.data("optionWidth")&&(b=d.$node.data("optionWidth")),"undefined"!=typeof d.$node.data("optionHeight")&&(c=d.$node.data("optionHeight")),"undefined"!=typeof b&&(d.width=b),"undefined"!=typeof c&&(d.height=c),d.height.toString().indexOf("%")>0||"100%"===d.$node.css("max-width")){var e=d.media.videoWidth&&d.media.videoWidth>0?d.media.videoWidth:d.options.defaultVideoWidth,f=d.media.videoHeight&&d.media.videoHeight>0?d.media.videoHeight:d.options.defaultVideoHeight;navigator.userAgent.match("Android")&&(e=d.options.defaultVideoWidth,f=d.options.defaultVideoHeight),"string"==typeof d.options.rate&&d.options.rate.match(":")&&d.options.rate.split(":").length>1&&(e=d.options.rate.split(":")[0],f=d.options.rate.split(":")[1]);var g=d.container.parent().width(),h=parseInt(g*f/e,10);"body"===d.container.parent()[0].tagName.toLowerCase()&&(g=a(window).width(),h=a(window).height()),0!=h&&(d.container.width(g).height(h),d.$media.width("100%").height("100%"),d.container.find("object, embed, iframe").width("100%").height("100%"),d.isVideo&&d.media.setVideoSize&&d.media.setVideoSize(g,h),d.layers.children(".mejs-layer").width("100%").height("100%"))}else d.container.width(d.width).height(d.height),d.layers.children(".mejs-layer").width(d.width).height(d.height)},mejs.MediaElementPlayer.prototype.updateDuration=function(){var a=this;a.container.toggleClass("mejs-long-video",a.media.duration>3600),a.durationD&&(a.options.duration>0||a.media.duration)&&a.durationD.html(mejs.Utility.secondsToTimeCode(a.options.duration>0?a.options.duration:isFinite(a.media.duration)?a.media.duration:0,a.options.alwaysShowHours,a.options.showTimecodeFrameCount,a.options.framesPerSecond||25))},mejs.PluginMediaElement.prototype.setVideoSize=function(a,b){null!=this.pluginElement&&this.pluginElement.style&&(this.pluginElement.style.width=a+"px",this.pluginElement.style.height=b+"px"),null!=this.pluginApi&&this.pluginApi.setVideoSize&&this.pluginApi.setVideoSize(a,b)},mejs.Utility.encodeUrl=function(a){return"100%"===a?!1:encodeURIComponent(a)},"string"==typeof b?a(this).data("featuredMedia")[b]():(b=a.extend(!0,c,b),d=new mejs.MediaElementPlayer(this,b),a(this).data("featuredMedia",d))})},a(function(){a("[data-featured=media]").each(function(){var b=this;a(this)[e]({alwaysShowControls:!0,rate:a(b).data("mediaRate")})})}),c&&c.View.extend({tagName:"div",className:"featured-media",render:function(a){return"string"==typeof a?this.$el.featuredMedia(a):this.$el.featuredMedia(this.options),this}})});
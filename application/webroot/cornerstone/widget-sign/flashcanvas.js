/*
    Cornerstone Framework v2.0

    COPYRIGHT(C) 2012 BY SKTELECOM CO., LTD. ALL RIGHTS RESERVED.
    Released under the Apache License, Version 2.0
*/
window.ActiveXObject&&!window.CanvasRenderingContext2D&&function(){function D(a){return((a[C+"Options"]||{}).swfPath||K)+"flashcanvas.swf"}function s(a){return(""+a).replace(/&/g,"&amp;").replace(/</g,"&lt;")}function i(a){throw new E(a)}function F(a){var b=parseInt(a.width,10),c=parseInt(a.height,10);(isNaN(b)||0>b)&&(b=300),(isNaN(c)||0>c)&&(c=150),a.width=b,a.height=c}var G=this.document,t="canvas",C="FlashCanvas",H="onreadystatechange",n;a:{n=this.document.getElementsByTagName("script");var I="",u=n.length;if(u)for(I=n[u-1].src||"";u;){if(script=n[u-1],script.src&&script.src.match("flashcanvas")){n=8<=G.documentMode?script.src:script.getAttribute("src",4);break a}u--}n=I}var K=n.replace(/[^\/]+$/,""),e=new function(a){for(var b=0,c=a.length;c>b;b++)this[a[b]]=b}("toDataURL save restore scale rotate translate transform setTransform globalAlpha globalCompositeOperation strokeStyle fillStyle createLinearGradient createRadialGradient createPattern lineWidth lineCap lineJoin miterLimit shadowOffsetX shadowOffsetY shadowBlur shadowColor clearRect fillRect strokeRect beginPath closePath moveTo lineTo quadraticCurveTo bezierCurveTo arcTo rect arc fill stroke clip isPointInPath font textAlign textBaseline fillText strokeText measureText drawImage createImageData getImageData putImageData addColorStop direction resize".split(" ")),v={},p={},q={},x={},y={},w=function(a,b){this.canvas=a,this._swf=b,this._canvasId=b.id.slice(8),this._initialize(),this._gradientPatternId=0,this._font=this._direction="";var c=this;this._executeCommandIntervalID=setInterval(function(){for(var a=c.canvas,b=!1,a=a.parentNode;a&&!b;)b=a.body,a=a.parentNode;b?0===q[c._canvasId]&&c._executeCommand():clearInterval(c._executeCommandIntervalID)},30)};w.prototype={save:function(){this._setCompositing(),this._setShadows(),this._setStrokeStyle(),this._setFillStyle(),this._setLineStyles(),this._setFontStyles(),this._stateStack.push([this._globalAlpha,this._globalCompositeOperation,this._strokeStyle,this._fillStyle,this._lineWidth,this._lineCap,this._lineJoin,this._miterLimit,this._shadowOffsetX,this._shadowOffsetY,this._shadowBlur,this._shadowColor,this._font,this._textAlign,this._textBaseline]),this._queue.push(e.save)},restore:function(){var a=this._stateStack;a.length&&(a=a.pop(),this.globalAlpha=a[0],this.globalCompositeOperation=a[1],this.strokeStyle=a[2],this.fillStyle=a[3],this.lineWidth=a[4],this.lineCap=a[5],this.lineJoin=a[6],this.miterLimit=a[7],this.shadowOffsetX=a[8],this.shadowOffsetY=a[9],this.shadowBlur=a[10],this.shadowColor=a[11],this.font=a[12],this.textAlign=a[13],this.textBaseline=a[14]),this._queue.push(e.restore)},scale:function(a,b){this._queue.push(e.scale,a,b)},rotate:function(a){this._queue.push(e.rotate,a)},translate:function(a,b){this._queue.push(e.translate,a,b)},transform:function(a,b,c,d,f,g){this._queue.push(e.transform,a,b,c,d,f,g)},setTransform:function(a,b,c,d,f,g){this._queue.push(e.setTransform,a,b,c,d,f,g)},_setCompositing:function(){var a=this._queue;this._globalAlpha!==this.globalAlpha&&(this._globalAlpha=this.globalAlpha,a.push(e.globalAlpha,this._globalAlpha)),this._globalCompositeOperation!==this.globalCompositeOperation&&(this._globalCompositeOperation=this.globalCompositeOperation,a.push(e.globalCompositeOperation,this._globalCompositeOperation))},_setStrokeStyle:function(){if(this._strokeStyle!==this.strokeStyle){var a=this._strokeStyle=this.strokeStyle;if("string"!=typeof a){if(!(a instanceof r||a instanceof z))return;a=a.id}this._queue.push(e.strokeStyle,a)}},_setFillStyle:function(){if(this._fillStyle!==this.fillStyle){var a=this._fillStyle=this.fillStyle;if("string"!=typeof a){if(!(a instanceof r||a instanceof z))return;a=a.id}this._queue.push(e.fillStyle,a)}},createLinearGradient:function(a,b,c,d){return!(isFinite(a)&&isFinite(b)&&isFinite(c)&&isFinite(d)||!i(9)),this._queue.push(e.createLinearGradient,a,b,c,d),new r(this)},createRadialGradient:function(a,b,c,d,f,g){return!(isFinite(a)&&isFinite(b)&&isFinite(c)&&isFinite(d)&&isFinite(f)&&isFinite(g)||!i(9)),(0>c||0>g)&&i(1),this._queue.push(e.createRadialGradient,a,b,c,d,f,g),new r(this)},createPattern:function(a,b){a||i(17);var c,d=a.tagName,f=this._canvasId;if(d)if(d=d.toLowerCase(),"img"===d)c=a.getAttribute("src",2);else{if(d===t||"video"===d)return;i(17)}else a.src?c=a.src:i(17);return"repeat"===b||"no-repeat"===b||"repeat-x"===b||"repeat-y"===b||""===b||null===b||i(12),this._queue.push(e.createPattern,s(c),b),!p[f][c]&&v[f]&&(this._executeCommand(),++q[f],p[f][c]=!0),new z(this)},_setLineStyles:function(){var a=this._queue;this._lineWidth!==this.lineWidth&&(this._lineWidth=this.lineWidth,a.push(e.lineWidth,this._lineWidth)),this._lineCap!==this.lineCap&&(this._lineCap=this.lineCap,a.push(e.lineCap,this._lineCap)),this._lineJoin!==this.lineJoin&&(this._lineJoin=this.lineJoin,a.push(e.lineJoin,this._lineJoin)),this._miterLimit!==this.miterLimit&&(this._miterLimit=this.miterLimit,a.push(e.miterLimit,this._miterLimit))},_setShadows:function(){var a=this._queue;this._shadowOffsetX!==this.shadowOffsetX&&(this._shadowOffsetX=this.shadowOffsetX,a.push(e.shadowOffsetX,this._shadowOffsetX)),this._shadowOffsetY!==this.shadowOffsetY&&(this._shadowOffsetY=this.shadowOffsetY,a.push(e.shadowOffsetY,this._shadowOffsetY)),this._shadowBlur!==this.shadowBlur&&(this._shadowBlur=this.shadowBlur,a.push(e.shadowBlur,this._shadowBlur)),this._shadowColor!==this.shadowColor&&(this._shadowColor=this.shadowColor,a.push(e.shadowColor,this._shadowColor))},clearRect:function(a,b,c,d){this._queue.push(e.clearRect,a,b,c,d)},fillRect:function(a,b,c,d){this._setCompositing(),this._setShadows(),this._setFillStyle(),this._queue.push(e.fillRect,a,b,c,d)},strokeRect:function(a,b,c,d){this._setCompositing(),this._setShadows(),this._setStrokeStyle(),this._setLineStyles(),this._queue.push(e.strokeRect,a,b,c,d)},beginPath:function(){this._queue.push(e.beginPath)},closePath:function(){this._queue.push(e.closePath)},moveTo:function(a,b){this._queue.push(e.moveTo,a,b)},lineTo:function(a,b){this._queue.push(e.lineTo,a,b)},quadraticCurveTo:function(a,b,c,d){this._queue.push(e.quadraticCurveTo,a,b,c,d)},bezierCurveTo:function(a,b,c,d,f,g){this._queue.push(e.bezierCurveTo,a,b,c,d,f,g)},arcTo:function(a,b,c,d,f){0>f&&isFinite(f)&&i(1),this._queue.push(e.arcTo,a,b,c,d,f)},rect:function(a,b,c,d){this._queue.push(e.rect,a,b,c,d)},arc:function(a,b,c,d,f,g){0>c&&isFinite(c)&&i(1),this._queue.push(e.arc,a,b,c,d,f,g?1:0)},fill:function(){this._setCompositing(),this._setShadows(),this._setFillStyle(),this._queue.push(e.fill)},stroke:function(){this._setCompositing(),this._setShadows(),this._setStrokeStyle(),this._setLineStyles(),this._queue.push(e.stroke)},clip:function(){this._queue.push(e.clip)},isPointInPath:function(){},_setFontStyles:function(){var a=this._queue;if(this._font!==this.font)try{var b=y[this._canvasId];b.style.font=this._font=this.font;var c=b.currentStyle,d=[c.fontStyle,c.fontWeight,b.offsetHeight,c.fontFamily].join(" ");a.push(e.font,d)}catch(f){}this._textAlign!==this.textAlign&&(this._textAlign=this.textAlign,a.push(e.textAlign,this._textAlign)),this._textBaseline!==this.textBaseline&&(this._textBaseline=this.textBaseline,a.push(e.textBaseline,this._textBaseline)),this._direction!==this.canvas.currentStyle.direction&&(this._direction=this.canvas.currentStyle.direction,a.push(e.direction,this._direction))},fillText:function(a,b,c,d){this._setCompositing(),this._setFillStyle(),this._setShadows(),this._setFontStyles(),this._queue.push(e.fillText,s(a),b,c,void 0===d?1/0:d)},strokeText:function(a,b,c,d){this._setCompositing(),this._setStrokeStyle(),this._setShadows(),this._setFontStyles(),this._queue.push(e.strokeText,s(a),b,c,void 0===d?1/0:d)},measureText:function(a){var b=y[this._canvasId];try{b.style.font=this.font}catch(c){}return b.innerText=a.replace(/[ \n\f\r]/g,"	"),new L(b.offsetWidth)},drawImage:function(a,b,c,d,f,g,h,j,k){a||i(17);var l,m=a.tagName,n=arguments.length,o=this._canvasId;if(m)if(m=m.toLowerCase(),"img"===m)l=a.getAttribute("src",2);else{if(m===t||"video"===m)return;i(17)}else a.src?l=a.src:i(17);if(this._setCompositing(),this._setShadows(),l=s(l),3===n)this._queue.push(e.drawImage,n,l,b,c);else if(5===n)this._queue.push(e.drawImage,n,l,b,c,d,f);else{if(9!==n)return;(0===d||0===f)&&i(1),this._queue.push(e.drawImage,n,l,b,c,d,f,g,h,j,k)}!p[o][l]&&v[o]&&(this._executeCommand(),++q[o],p[o][l]=!0)},createImageData:function(){},getImageData:function(){},putImageData:function(){},loadImage:function(a,b,c){var d,f=a.tagName,g=this._canvasId;f?"img"===f.toLowerCase()&&(d=a.getAttribute("src",2)):a.src&&(d=a.src),d&&!p[g][d]&&((b||c)&&(x[g][d]=[a,b,c]),this._queue.push(e.drawImage,1,s(d)),v[g]&&(this._executeCommand(),++q[g],p[g][d]=!0))},_initialize:function(){this.globalAlpha=this._globalAlpha=1,this.globalCompositeOperation=this._globalCompositeOperation="source-over",this.fillStyle=this._fillStyle=this.strokeStyle=this._strokeStyle="#000000",this.lineWidth=this._lineWidth=1,this.lineCap=this._lineCap="butt",this.lineJoin=this._lineJoin="miter",this.miterLimit=this._miterLimit=10,this.shadowBlur=this._shadowBlur=this.shadowOffsetY=this._shadowOffsetY=this.shadowOffsetX=this._shadowOffsetX=0,this.shadowColor=this._shadowColor="rgba(0, 0, 0, 0.0)",this.font=this._font="10px sans-serif",this.textAlign=this._textAlign="start",this.textBaseline=this._textBaseline="alphabetic",this._queue=[],this._stateStack=[]},_flush:function(){var a=this._queue;return this._queue=[],a},_executeCommand:function(){var a=this._flush();if(0<a.length)try{return eval(this._swf.CallFunction('<invoke name="executeCommand" returntype="javascript"><arguments><string>'+a.join("&#0;")+"</string></arguments></invoke>"))}catch(b){}},_resize:function(a,b){this._executeCommand(),this._initialize(),a>0&&(this._swf.width=a),b>0&&(this._swf.height=b),this._queue.push(e.resize,a,b)}};var r=function(a){this._ctx=a,this.id=a._gradientPatternId++};r.prototype={addColorStop:function(a,b){(isNaN(a)||0>a||a>1)&&i(1),this._ctx._queue.push(e.addColorStop,this.id,a,b)}};var z=function(a){this.id=a._gradientPatternId++},L=function(a){this.width=a},E=function(a){this.code=a,this.message={1:"INDEX_SIZE_ERR",9:"NOT_SUPPORTED_ERR",11:"INVALID_STATE_ERR",12:"SYNTAX_ERR",17:"TYPE_MISMATCH_ERR",18:"SECURITY_ERR"}[a]};E.prototype=Error();var J="initElement",m={registeredEvents:{},canvases:{},initWindow:function(a){function b(){if("complete"===a.document.readyState){a.document.detachEvent(H,b);for(var c=a.document.getElementsByTagName(t),d=0,e=c.length;e>d;++d)m[J](c[d])}}var c=a.document;c.createElement(t),c.createStyleSheet().cssText=t+"{display:inline-block;overflow:hidden;width:300px;height:150px}";var d=this.canvases,e=this.registeredEvents,f=function(){a.detachEvent("onunload",f);var b,c,g,h,i,j,k;for(k in d)if(b=d[k],c=b.firstChild,h=b.ownerDocument.defaultView?b.ownerDocument.defaultView:b.ownerDocument.parentWindow,a===h){for(g in c)"function"==typeof c[g]&&(c[g]=null);for(g in b)"function"==typeof b[g]&&(b[g]=null);for(h=0,i=e[k].length;h!==i;h++)j=e[k][h],c.detachEvent(j[0],j[1]),b.detachEvent(j[0],j[1])}a.CanvasRenderingContext2D=null,a.CanvasGradient=null,a.CanvasPattern=null,a[C]=null};a.attachEvent("onunload",f),a.CanvasRenderingContext2D=w,a.CanvasGradient=r,a.CanvasPattern=z,a[C]=m;var g=D(a);0===g.indexOf(a.location.protocol+"//"+a.location.host+"/")&&a.setTimeout(function(){var a=new ActiveXObject("Microsoft.XMLHTTP");a.open("GET",g,!1),a.send(null)},0),"complete"===a.document.readyState?b():a.document.attachEvent(H,b)}};m[J]=function(a){if(a.getContext)return a;var b=a.ownerDocument,c=b.defaultView?b.defaultView:b.parentWindow;c.CanvasRenderingContext2D||this.initWindow(c);var d=Math.random().toString(36).slice(2)||"0",f="external"+d;v[d]=!1,p[d]={},q[d]=1,x[d]={},this.registeredEvents[d]=[],F(a);var g=D(c);a.innerHTML='<object classid="clsid:d27cdb6e-ae6d-11cf-96b8-444553540000" codebase="'+("https:"===c.location.protocol?"https:":"http:")+'//fpdownload.macromedia.com/pub/shockwave/cabs/flash/swflash.cab#version=9,0,0,0" width="100%" height="100%" id="'+f+'"><param name="allowScriptAccess" value="always"><param name="flashvars" value="id='+f+'"><param name="wmode" value="transparent"></object><span style="margin:0;padding:0;border:0;display:inline-block;position:static;height:1em;overflow:visible;white-space:nowrap"></span>',this.canvases[d]=a;var h=a.firstChild;y[d]=a.lastChild;var i=b.body.contains;if(i(a))h.movie=g;else var j=c.setInterval(function(){i(a)&&(c.clearInterval(j),h.movie=g)},2);"BackCompat"!==b.compatMode&&c.XMLHttpRequest||(y[d].style.overflow="hidden");var k=new w(a,h);return a.getContext=function(a){return"2d"===a?k:null},a.toDataURL=function(a,b){return"image/jpeg"===(""+a).toLowerCase()?k._queue.push(e.toDataURL,a,"number"==typeof b?b:""):k._queue.push(e.toDataURL,a),k._executeCommand()},b=function(a){var a=a?a.srcElement:c.event.srcElement,b=a.parentNode;a.blur(),b.focus()},this.registeredEvents[d].push(["onfocus",b]),h.attachEvent("onfocus",b),a},m.saveImage=function(a){a.firstChild.saveImage()},m.setOptions=function(){},m.trigger=function(a,b){this.canvases[a].fireEvent("on"+b)},m.unlock=function(a,b,c){try{var d,e,f,g,h,i,j,k,l;void 0===b?(d=this.canvases[a],e=d.firstChild,k=d.ownerDocument,l=k.defaultView?k.defaultView:k.parentWindow,F(d),f=d.width,g=d.height,d.style.width=f+"px",d.style.height=g+"px",f>0&&(e.width=f),g>0&&(e.height=g),e.resize(f,g),b=function(a){var a=a?a:l.event,b=a.propertyName;if("width"===b||"height"===b){var a=a.srcElement,c=a[b],d=parseInt(c,10);(isNaN(d)||0>d)&&(d="width"===b?300:150),c===d?(a.style[b]=d+"px",a.getContext("2d")._resize(a.width,a.height)):a[b]=d}},this.registeredEvents[a].push(["onpropertychange",b]),d.attachEvent("onpropertychange",b),v[a]=!0,"function"==typeof d.onload&&l.setTimeout(function(){d.onload()},0)):(h=x[a][b])&&(i=h[0],j=h[1+c],delete x[a][b],"function"==typeof j&&j.call(i)),q[a]&&--q[a]}catch(m){throw console.log("Call to FlashCanvas.unlock had thrown an error: ",m.message),m}},m.initWindow(this,G),keep=[w.measureText,w.loadImage]}.call(window);